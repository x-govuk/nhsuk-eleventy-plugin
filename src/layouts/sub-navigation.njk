{% extends "layouts/base.njk" %}

{% block beforeContent %}
  {{ nhsukBreadcrumb({
    items: breadcrumbItems
  }) if showBreadcrumbs }}
{% endblock %}

{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-one-quarter">
      {{ appSubNavigation({
        items: collections.navigation | eleventyNavigation(sectionKey or options.homeKey) | itemsFromNavigation(page.url, { pathPrefix: options.pathPrefix }, true)
      }) }}
    </div>
    <div class="nhsuk-grid-column-three-quarters">
      {{ appDocumentHeader({
        caption: caption,
        title: title,
        description: description
      }) }}

      {{ appProseScope(content) if content }}

      {{ appRelated({
        sections: related.sections or [related]
      }) if related.sections or related.items | length > 0 }}

      {% if showPagination %}
        {% set previous = collections.navigation | eleventyNavigation(sectionKey or options.homeKey) | getPreviousNavigationItem(page.url) %}
        {% set next = collections.navigation | eleventyNavigation(sectionKey or options.homeKey) | getNextNavigationItem(page.url) %}
        {{ nhsukPagination({
          classes: "nhsuk-u-reading-width",
          previousUrl: previous.url if previous,
          previousPage: previous.title if previous,
          nextUrl: next.url if next,
          nextPage: next.title if next
        }) }}
      {% endif %}
    </div>
  </div>
{% endblock %}
